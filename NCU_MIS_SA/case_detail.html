<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<title>案件詳情</title>

        <script src="statics/js/jquery-3.4.1.min.js"></script>
    <link rel="stylesheet" type="text/css" href="statics/css/design_case.css">

</head>


<body>	
	<div id="container">

		<div id="header">
			<img src="logo.png" alt="Italian Trulli" width="80" height="60">
		</div>

		<div id="content">

			<h2>案件編號:NO.<span id="id">{{id}}</span></h2>

			<h3>上課內容</h3><hr>

			<div>對象:<span id="grade">{{grade}}</span></div>
			<div>上課科目:<span id="subject">{{subject}}</span></div>
			<div>上課地點:<span id="location">{{location}}</span></div>
			<div>薪資待遇:<span id="wage">{{wage}}</span></div>
			<div>上課時間:<span id="teachtime">{{teachtime}}</span></div>

			<h3>老師條件需求</h3><hr>

			<div>教學經驗:<span id="exper">{{exper}}</span></div>

			<div id="secend_content"></div>
					<div class="submit"><input type="button" value="我要應徵" id="submit"></div>
			
		</div>
	</div>
	<script>
	  //取得網址參數
	  var url_string = window.location.href;
	  var url = new URL(url_string);
	  var id = url.searchParams.get("id");
	  
	  function getCaseData() {
		  $.ajax({
	          type: "GET",
	          url: "api/case.do",
	          data: "id=" + id,
	          crossDomain: true,
	          cache: false,
	          dataType: 'json',
	          timeout: 5000,
	          success: function (response) {
	              if(response.status == 200){
	            	  updateHTML(response.response.data);
	              }
	          },
	          error: function () {
	              alert("無法連線到伺服器！");
	          }
	    });
	  }
	  
	  getCaseData();
	  
	  function updateHTML(data) {
		  $("#id").html(data['id']);
		  $("#grade").html(data['grade']);
		  $("#subject").html(data['subject']);
		  $("#location").html(data['teach_county']+data['teach_region']);
		  $("#wage").html(data['wage']);
		  $("#teachtime").html(data['teachtime']);
		  $("#exper").html(data['teach_experience']);
	
	  }
	  
	  </script>
</body>
</html>